<div class="sb">
<div class="chart-wrapper" style="height: 300px;">
    <canvas id="inverseChart"></canvas>
</div>
<div class="caption">Figure 3: SourceBench Score (Green) vs. Google Overlap (Gray).</div>
<br>
</div>

<script>
window.addEventListener('DOMContentLoaded', function() {

function sbGetThemeColors() {
    var ls = localStorage.getItem('theme');
    var hugo = document.body.classList.contains('dark-theme') ? 'dark' : 'light';
    var dark = (ls || hugo) === 'dark';
    return { font: dark ? '#cbd5e1' : '#475569', grid: dark ? '#334155' : '#f1f5f9' };
}

var tc = sbGetThemeColors();
var inverseData = {
    labels: ['GPT-5', 'Grok-4.1', 'GPT-4o', 'Perplexity', 'Tavily'],
    score: [89.1, 83.4, 81.5, 78.5, 78.3],
    overlap: [16.0, 29.7, 27.5, 40.0, 55.5]
};

var inverseChart = new Chart(document.getElementById('inverseChart'), {
    type: 'bar',
    data: {
        labels: inverseData.labels,
        datasets: [
            { label: 'SourceBench Score', data: inverseData.score, backgroundColor: '#10b981', yAxisID: 'y', borderRadius: 4, barPercentage: 0.6 },
            { label: 'Google Overlap %', data: inverseData.overlap, backgroundColor: '#94a3b8', yAxisID: 'y1', borderRadius: 4, barPercentage: 0.6 }
        ]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        interaction: { mode: 'index', intersect: false },
        color: tc.font,
        plugins: { legend: { position: 'top', labels: { usePointStyle: true, color: tc.font } } },
        scales: {
            x: { grid: { display: false }, ticks: { color: tc.font } },
            y: { type: 'linear', display: true, position: 'left', min: 70, max: 95, grid: { color: tc.grid }, ticks: { color: tc.font }, title: { display: true, text: 'Weighted Score', color: tc.font } },
            y1: { type: 'linear', display: true, position: 'right', min: 0, max: 60, grid: { drawOnChartArea: false }, ticks: { color: tc.font }, title: { display: true, text: 'Overlap %', color: tc.font } }
        }
    }
});

function sbUpdateInverseColors() {
    var c = sbGetThemeColors();
    inverseChart.options.color = c.font;
    inverseChart.options.plugins.legend.labels.color = c.font;
    inverseChart.options.scales.x.ticks.color = c.font;
    inverseChart.options.scales.y.ticks.color = c.font;
    inverseChart.options.scales.y.grid.color = c.grid;
    inverseChart.options.scales.y.title.color = c.font;
    inverseChart.options.scales.y1.ticks.color = c.font;
    inverseChart.options.scales.y1.title.color = c.font;
    inverseChart.update();
}

var toggleBtn = document.querySelector('.btn-light-dark');
if (toggleBtn) toggleBtn.addEventListener('click', function() { setTimeout(sbUpdateInverseColors, 50); });

});
</script>
